\section{Literature Overview} \label{sec:Literature}
In the following I will give an overview over the current state of research regarding energy price predictions. Since the literature on gas price predictions is rather limited, this review is extended into the areas of electricity and oil prices. 
These areas of extension are chosen based on the observation that gas lies somewhere in between these two commodities regarding storage, transmission and pricing mechanisms. Electricity cannot yet be stored in an economically sensible way leading to the need to constantly balance demand and supply in each transmission network and strong variability in prices across regions and seasons. Oil on the other hand can be both stored and shipped at relatively low cost leading to a relatively integrated global market with lower seasonality. Natural gas can be stored and shipped at relatively high cost and is mostly transported through local distribution networks akin to electricity grids. Regarding methodology the literature is categorised into three ares: Linear Models (LR), Feed Forward Neural Networks (FFNN) and Recurrent Neural Networks (RNN). The Linear category contains both classical Linear regression models as well as time series models such as AR-Type models and generalised linear models such as logistic regression. For each of the different energy products a table is included listing the reviewed sources with the energy market that was modelled in the respective study and the category of the methods used. In the course of this overview the focus will be on the forecasting methods used as well as the choice of predictor variables. Deliberately excluded from this overview is literature that focuses on statistical modelling of energy prices for risk management or purposes other than the explicit forecasting of future prices.

\subsection{Electricity}
With the rising importance and liberalisation of electricity markets the problem of predicting prices on these markets has received increasing attention by the research community. Apart from regulatory changes another factor that has lead to an increasing price volatility in some electricity markets is the rising share of renewable producers. This has lead to an increased volatility on the supply side of the market. Other factors that make electricity prices unique with respect to other commodities is the lack of storage, international integration of markets and different market regimes across countries. Regarding the different markets one can generally divide them into future markets, day ahead auctions and intra day spot markets. Whereas the first type works analogously to other commodity future markets the day ahead and intra day markets are unique to the electricity domain. While there is some deviation between different countries the day ahead auctions usually work in the way that suppliers place sell offers independently of each other. After the end of the bidding period the market operator clears the market by accepting the cheapest offers up until the estimated demand is met. All sellers whose offers were accepted then receive the price of the highest accepted offer. This price is called the market clearing price (MCP) or sometimes marginal price in the literature and is the focus of virtually all price forecasting research in this area. The intra day markets on the other hand offer continuous trading between market participants up to around 30 minutes to delivery. Intra day markets are often used to correct for unexpected changes on the supply or demand side with respect to the expectations at the day ahead auction. The research referenced in this section is only a small subset of electricity price forecasting literature selected based on relevance and conceptual proximity to my modelling approach.
For a comprehensive review on electricity price forecasting the reader is referred to \textit{\cite{weron_electricity_2014}} which illustrates the extend of research activity in this area with almost 500 publications from 1989 to 2013 and was the starting point for this overview.
\paragraph{Linear Models}
An early attempt to predict electricity prices using a regression purely based on exogenous variables was done by \cite{schmutz_electricity_2004} who used natural gas prices and weather data as input variables. In an even earlier paper \cite{kim_prediction_2002} use multiple regression in combination with wavelet decomposition. The time series is decomposed into wavelets for different frequencies and these wavelets are then used as the target variable in the regression.
 \cite{crespo_cuaresma_forecasting_2004} have applied various univariate time series models including $AR(1)$ as well as different $ARMA$ models to produce short term predictions of German day ahead electricity prices. \cite{weron_forecasting_2005} applies a similar approach to Californian electricity prices with a focus on the time period of the power crash 2000/01.  
Despite these examples of models purely based on external regressors or purely based on past observations of the target variable, most linear models in the literature are models which include both types of input variables.
One example of this is the extension of the above mentioned work on predicting Californian electricity prices in \cite{misiorek_point_2006}. Here the authors include the system wide load or its forecast as additional input variable to predict the day ahead prices. Another explanatory variable that is often used in these kind of models is temperature data. \cite{knittel_empirical_2005} add a third order polynomial of the temperature to an ARIMA model in order to predict Californian electricity prices. The authors find the temperature variables to be highly significant in a model predicting power prices in the time period 1998-2000.  A linear model combining a larger number of exogenous variable is presented in \cite{zareipour_application_2006}. In this work the authors predict power prices in Ontario using supply and demand forecasts as well as simulation based price forecasts for the Ontario, New York and New England markets as input variables. They find that adding these variables increases model accuracy for forecasts both 3 and 24 hours ahead relative to a standard ARIMA model. Depending on the local market conditions production forecasts of electricity sources   with a high local market share are also used as input variables. Following this approach water reservoir levels are used to predict prices in Columbia (\cite{lira_short-term_2009}) and wind power production forecasts are used for the Nordic electricity market (\cite{kristiansen_forecasting_2012}).

\paragraph{Feed Forward Neural Networks}
In one of the earlier works applying Artificial Neural Networks to electricity price prediction \cite{yamin_adaptive_2004} generate forecasts for the day ahead price in the Californian power market. They use an architecture with a single hidden layer and one output node for each of the 24 hours. As input parameters they propose various variables describing the status of power lines, load patterns, power outages as well as different time factors such as the week day and conclude that this approach outperforms traditional methods. 
\cite{gareta_forecasting_2006} applies a similarly simple feed forward architecture with just one hidden layer. However the authors do not train one model with 24 output dimensions but cluster the hours according to variable importances and train models with smaller output dimensions on each of these clusters. Although the authors report satisfactory accuracies on their test set, they do not include reference models for comparison. In \cite{cruz_effect_2011} feed forward neural networks are evaluated in comparison to a variety of alternative models including ARIMA, exponential smoothing and dynamic regression. The authors fit one univariate model to the data for all hours and include the hour of the day as an input variable. Beyond this variable a further eight variables are chosen from a wider range consisting of demand forecasts and various past values of the electricity price. Based on the mean absolute percentage error for predictions on data from the Spanish electricity markets for the years 2007 / 2008 the neural network approach has only mixed success being ranked in the middle of the alternative approaches. In a more recent study \cite{panapakidis_day-ahead_2016} compare different neural networks that both vary in their architectures as well as input variables. In this study models solely based on past observations are compared with models incorporating demand, natural gas prices or market data from neighbouring countries. While these models are again of a simple single layer architecture, the authors also implement a stacked approach where they train a neural network to combine the predictions of these separate models into an improved price prediction. In fact this stacked model beats each of the base models on the test data. 

\paragraph{Recurrent Neural Networks}
Recurrent neural networks have only more recently been used for electricity price prediction and there exists overall less literature based on this approach compared to feed forward neural networks. In \cite{anbazhagan_day-ahead_2013} the authors use an Elman architecture recurrent neural network to predict electricity prices in both Spain and New York. The model in this work takes as sole input variables the prices for the respective hour of the last 16 days. This model is compared with time series methods such as AR, ARIMA and feed forward neural networks with past prices as inputs. While the RNN in their test scenario outperforms more traditional modelling approaches such as ARIMA it has a higher MAPE than hybrid approaches such as a combination of a neural network and wavelet transformation. In \cite{mirikitani_nonlinear_2011} the authors develop a new maximum likelihood based approach to train a fully connected recurrent neural network to predict electricity prices in Spain and Ontario. Using only past prices as input variables and 6 nodes in the hidden layer they achieve significant improvements over the reference methods (FFNN, ARIMA) regarding the mean absolute percentage error in both markets. The approach presented in  \cite{sharma_hybrid_2013} combines an RNN with a so called Fritz-Hugh Nagumo model to accommodate large price spikes and applies a feed forward neural network to predict the residuals from this model. The authors benchmark their model against the models of \cite{mirikitani_nonlinear_2011}, \cite{zareipour_application_2006} on the respective datasets and find significant error reductions in the area of 10-30 percent of the original reported error. Overall RNNs are one of the most intensely researched modelling approaches for electricity price forecasting at the moment with some very promising results. Another observation one can take away from the literature is that many authors use RNN as a "pure time series" model, meaning they limit the input variables to past observations of the target variable and do not include exogenous variables.

\input{literature_table_electricity.tex}


\subsection{Oil}
Being one of the most widely traded commodities and the leading primary source of energy it is not surprising that the problem of forecasting oil prices has received a lot of attention by the scientific community. Unlike electricity, the oil market is  globally integrated and has been relatively lightly regulated for a long time.
This has lead to the fact that research activity regarding forecasting of oil prices reaches further into the past compared to electricity prices which became interesting only with the liberalisation of the respective markets.
Another difference is the fact that oil can be stored at relatively low costs and there is no need to constantly balance demand and supply. The target variables in oil price prediction can be categorised according to two aspects: the type of oil (WTI, Brent) and the type of market or financial product (Spot, Future). 

\paragraph{Linear Models}
The longer history of research in this area, coupled with the higher popularity of linear modelling techniques in earlier years leads to the fact that overall a higher share of literature on oil price forecasting focuses on linear models. In the studies \cite{ye_forecasting_2002}, \cite{ye_monthly_2005} and \cite{ye_forecasting_2006} the same group of authors develop models to forecast the WTI spot price based on OPEC inventory levels. However instead of just taking absolute values of this variable as input they use various transformations such as deviations of the inventory level from average values for this time of the year as well as year on year changes.  The authors reach good forecasting results for testing periods throughout the 1990s and early 2000s. They also point to the long history of studying the relationship between commodity prices and inventory levels which reaches back nearly a century (\cite{ye_forecasting_2006}, p.1).
In a working paper for the European Central Bank \cite{dees_assessing_2008} predict WTI spot prices using forward prices, inventories and OPEC capacity utilisation. Regarding test data from the period of 2004-2006 the authors find their model to outperform both a random walk benchmark as well as oil price expectations implied by the futures market. An example of using exogenous variables to explain changes in oil future prices is the work by \cite{bu_price_2011} where the author uses reported trading positions of speculative traders as regressors and a GARCH model for the residuals. \cite{moshiri_forecasting_2006} forecasts the same target variable using an ARMA  model purely based on past observations of the WTI future price, which is however outperformed by the other models in his study. 

\paragraph{Feed Forward Neural Networks}
The model beating the ARMA approach in \cite{moshiri_forecasting_2006} is indeed a feed forward neural network trained on past prices. This network with five neurons in the hidden layer is found to significantly outperform ARMA and GARCH models for daily test data in the time period 2000-2003. In \cite{haidar_forecasting_2008} the past future and spot prices are used in a neural network to predict the next days spot price and outperforms an alternative network trained with gold and stock prices as input. \cite{alizadeh_monthly_2010} use a wide range of input variables for their network including the US Nominal Effective Exchange Rate, refinery capacity and historical prices.  As is the case for electricity price prediction, many more recent papers that apply  neural networks to oil price predictions focus on hybrid approaches. One approach that is especially popular is combining machine learning methods with a wavelet transformation of the price series. Two examples of this trend are \citep{pang_forecasting_2011} and \cite{he_crude_2012} both of which manage to reduce model errors following this approach.
An example of applying neural networks to the prediction of Oil Future prices is the work done in  \cite{shambora_are_2007}.

\paragraph{Recurrent Neural Networks}
In \cite{mingming_multiple_2012} the above mentioned work integrating neural networks with wavelet transformations is extended to recurrent neural networks. The authors find that the resulting model outperforms standard neural networks in forecasting WTI spot and Gold prices. 
A recent example of applying a recurrent neural network directly to oil price data without transformation is \cite{wang_forecasting_2016}. In this work the authors use an Elman architecture to predict oil markets for the WTI Spot and Chinese markets as well as stock prices. They find that this architecture outperforms the reference feed forward neural network significantly regarding multiple metrics. 

\input{literature_table_oil.tex}

\subsection{Natural Gas}
Compared to both electricity as well as oil prices there is a lot less research activity and literature in the field of natural gas price prediction. In fact a lot of the literature that features statistical modelling of gas prices is focused more on explaining certain market characteristics rather than explicit price forecasting. Special attention of this kind of research has been focused on the connection between oil and natural gas prices (\cite{villar_relationship_2006}, \cite{hartley_relationship_2008}) and how this connection has changed since the shale boom in the US market (\cite{geng_how_2016}, \cite{caporin_long-run_2017}). Another research question, which has been intensively researched in most commodity markets, is the connection between future and spot prices of natural gas (\cite{herbert_relation_1993}, \cite{chinn_predictive_2014}).

\paragraph{Linear Models}
The work done in \cite{mishra_are_2016} extends the question of the Spot-Future relationship and tries to derive trading strategies for the spot market based on the current future price and its relation to the spot price. Some of the models used in this work are equivalent to a linear regression of the spot price on its past value and the interaction with the logarithmic ratio between future and spot price. One of the earliest attempts at natural gas price forecasting has been implemented in 
\cite{buchanan_which_2001} where the authors implement a logistic regression based on trading positions to predict the direction of spot prices changes.
In \cite{woo_market_2006} the authors use a linear regression to predict local natural gas spot prices in California based on prices observed for the Henry Hub trading point. An example of a linear model using the natural gas future price as target variable has been developed in \cite{mu_weather_2007} where the authors use a linear regression with weather data, oil price returns and treasury yields to model the return series of the front month Henry Hub future. One of the models presented in \cite{malliaris_forecasting_2008} uses a linear regression with price data from other energy commodities such as crude oil and heating oil as regressors to forecast natural gas spot prices. 

\paragraph{Feed Forward Neural Networks}
In \cite{nguyen_combining_2008} and \cite{nguyen_short-term_2010} the authors combine a wavelet transformation and several filters with various modelling techniques to predict natural gas forward prices on the UK market. While they included neural network models they found them performing worse then linear regression and GARCH models with wavelet transformation. A similar experiment is conducted in \cite{jin_forecasting_2015} using weekly spot prices at the Henry Hub as target variable. Here the authors find the exact opposite results with neural networks outperforming ARIMA. However in both cases wavelet decomposition seems to improve model performance for almost any type of model. A feed forward neural network on past price values is combined with a feature selection algorithm in  \cite{salehnia_forecasting_2013} to predict the Henry Hub spot price. In this study the neural network is found to be more efficient at short-term forecasting than the reference models. Another paper that concentrates on the application of Feature Selection methods to this problem is \cite{ceperic_short-term_2017}. While the authors in this paper find that both for FFNN and SVR models feature selection improves performance they still only slightly outperform classical time series models. The authors also observe that the power of machine learning models in this area is generally exaggerated in the literature.
The authors of \cite{panella_forecasting_2012} apply various different feed forward neural network architectures with past prices as input to predict spot prices and find that all those models outperform the reference GARCH model.  

\paragraph{Recurrent Neural Network}
Judging from the examined literature research, the application of recurrent neural networks to natural gas price predictions seems to be extremely limited.
In fact the only paper found to apply a recurrent architecture to this problem is \cite{busse_forecasting_2012}. In this study the authors use a recurrent architecture called \textit{Nonlinear Autoregressive Neural Network with eXogenous inputs (NARX)} to predict gas spot prices at the NetConnect hub in Germany. They find that the optimal selection of input variables to the model are temperature forecasts, the USD/EUR exchange rate and the past prices at the NCG, NBP and TTF hubs. The proposed model significantly outperforms a naive prediction based on the last available price value. 

\input{literature_table_gas.tex}

\subsection{Summary}
From the review of the above mentioned literature one can gain the following conclusions:
\begin{description}
\item[Research on natural gas:] Despite the growing importance of natural gas in the global energy market, natural gas prices have received significantly less interest from the forecasting research community than oil and electricity prices.
\item[Application of LSTM:] Long short term memory networks have not yet been widely applied in the forecasting of energy commodity prices.
\item[Comparability:] Especially for electricity and natural gas prices the results of the different studies are hard to compare to each other. This is due to the fact that the analysed time series do not only vary in time frame and resolution (daily, weekly etc.) but also refer to different geographical markets. 
\item[Evaluation methods:] Another factor that makes the interpretation of the results of the different studies harder is the way the authors evaluate their results. Especially the choice of reference model varies significantly across the literature. Many authors only compare different machine learning or regression models among each other and do not benchmark their models against the lagged price value. This limits the extend to which the practical use of these models to market participants can be assessed.
\item[Usefulness of neural networks:] Especially in the area of natural gas price forecasting, no clear picture on the performance of neural networks has emerged yet. While some studies suggest relatively good performance others see neural networks outperformed by classical time series methods.
\item[Feature selection and wavelet decomposition:] A relatively consistent finding across the different types of commodities is the positive impact of both feature selection and wavelet decomposition of the time series.
\end{description}
While the first two of these observations can serve as additional justification of the choice of topic as a relatively sparsely researched one, the other observations should be kept in mind to put the results of this thesis in perspective.